<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CGPA Calculator</title>
<link rel="shortcut icon" href="fav.png" type="image/x-icon">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

<style>

*{
    box-sizing: border-box;
    font-family: "Poppins", sans-serif;
}

body{
    background: #f5f5f5;
    margin: 0;
    padding: 30px 15px;
    min-height: 100vh;
}

/* Main Container */
.container{
    max-width: 1100px;
    margin: auto;
    background: white;
    padding: 40px;
    border-radius: 16px;
    box-shadow: 0 2px 10px rgba(0,0,0,.05);
}

h1{
    text-align: left;
    margin-bottom: 35px;
    color: #1a1a1a;
    font-size: 2.2rem;
    font-weight: 700;
}

.section-title{
    font-size: 1.3rem;
    font-weight: 600;
    color: #1a1a1a;
    margin-bottom: 20px;
}

/* Header Inputs */

.header{
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
    margin-bottom: 30px;
}

.input-box{
    background: #fff8f0;
    padding: 20px;
    border-radius: 12px;
    border-left: 4px solid #ffa86b;
    transition: all 0.3s ease;
}

.input-box:hover{
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(255, 168, 107, 0.15);
}

.input-box label{
    font-weight: 600;
    display: block;
    margin-bottom: 8px;
    color: #4a5568;
    font-size: 0.95rem;
}

.input-box input{
    width: 100%;
    padding: 12px 15px;
    border: 2px solid #e2e8f0;
    border-radius: 8px;
    font-size: 16px;
    transition: all 0.3s ease;
    background: white;
}

.input-box input:focus{
    outline: none;
    border-color: #ffa86b;
    box-shadow: 0 0 0 3px rgba(255, 168, 107, 0.1);
}

/* Table */

table{
    width: 100%;
    border-collapse: collapse;
    margin-top: 25px;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 4px 15px rgba(0,0,0,0.08);
}

thead{
    background: #fff8f0;
}

th,td{
    padding: 14px 10px;
    text-align: center;
}

th{
    color: #1a1a1a;
    font-weight: 600;
    font-size: 0.9rem;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

tbody tr{
    transition: all 0.2s ease;
    border-bottom: 1px solid #f0f0f0;
}

tbody tr:hover{
    background: #fffbf7;
    transform: scale(1.01);
}

tbody tr:last-child{
    border-bottom: none;
}

input,select{
    width: 100%;
    padding: 8px;
    border-radius: 6px;
    border: 2px solid #e2e8f0;
    transition: all 0.2s ease;
    font-size: 14px;
}

input:focus, select:focus{
    outline: none;
    border-color: #ffa86b;
    box-shadow: 0 0 0 3px rgba(255, 168, 107, 0.1);
}

input[type="checkbox"]{
    width: 22px;
    height: 22px;
    cursor: pointer;
    accent-color: #ffa86b;
}

/* Buttons */

.btn-group{
    margin-top: 30px;
    display: flex;
    gap: 15px;
    flex-wrap: wrap;
    justify-content: center;
}

.btn{
    padding: 14px 28px;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    font-weight: 600;
    font-size: 15px;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
}

.btn-add{ 
    background: #5a6c7d;
    color:white;
}
.btn-retake{ 
    background: #17a2b8;
    color:white;
}
.btn-calc{ 
    background: #ffa86b;
    color:white;
}
.btn-reset{ 
    background: #dc3545;
    color:white;
}
.btn-grade{ 
    background: #28a745;
    color:white;
}

.btn:hover{
    transform: translateY(-3px);
    box-shadow: 0 8px 25px rgba(0,0,0,0.2);
}

.btn:active{
    transform: translateY(-1px);
}

/* Result */

.result{
    margin-top: 40px;
    background: linear-gradient(135deg, #ffa86b, #ff8f47);
    padding: 35px;
    border-radius: 16px;
    text-align: center;
    color: white;
    display: none;
    box-shadow: 0 8px 25px rgba(255, 168, 107, 0.3);
    animation: slideIn 0.5s ease;
}

@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.result h3{
    font-size: 1.4rem;
    margin: 0 0 20px 0;
    font-weight: 500;
    opacity: 0.95;
}

.cgpa-display{
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 25px;
    margin-top: 20px;
}

.cgpa-card{
    background: rgba(255,255,255,0.15);
    padding: 25px;
    border-radius: 12px;
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255,255,255,0.2);
}

.cgpa-card h4{
    font-size: 0.95rem;
    margin: 0 0 10px 0;
    opacity: 0.9;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.cgpa-card .cgpa-value{
    font-size: 3.5rem;
    font-weight: 700;
    margin: 0;
    text-shadow: 2px 2px 10px rgba(0,0,0,0.2);
}

.cgpa-card .cgpa-label{
    font-size: 0.85rem;
    margin-top: 5px;
    opacity: 0.8;
}

/* Grade Table */

.grade-box{
    margin-top: 40px;
    display: none;
    animation: slideIn 0.5s ease;
}

/* Retake Section */

.retake-section{
    margin-top: 40px;
    display: none;
    animation: slideIn 0.5s ease;
}

.retake-section h3{
    color: #1a1a1a;
    margin-bottom: 20px;
    font-size: 1.3rem;
    font-weight: 600;
}

.retake-container{
    background: #fff8f0;
    padding: 25px;
    border-radius: 12px;
    border-left: 4px solid #ffa86b;
}

.retake-row{
    display: grid;
    grid-template-columns: 2fr 1fr 1fr 1fr auto;
    gap: 15px;
    margin-bottom: 15px;
    align-items: center;
}

.retake-row:last-child{
    margin-bottom: 0;
}

.retake-input-group label{
    display: block;
    font-size: 0.85rem;
    font-weight: 600;
    color: #4a5568;
    margin-bottom: 5px;
}

.retake-input-group input,
.retake-input-group select{
    width: 100%;
}

.grade-box h3{
    color: #2d3748;
    margin-bottom: 20px;
    font-size: 1.5rem;
}

.grade-table{
    width:100%;
    border-collapse: collapse;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 4px 15px rgba(0,0,0,0.08);
}

.grade-table th{
    background: #fff8f0;
    color: #1a1a1a;
    font-weight: 600;
    padding: 14px;
}

.grade-table td{
    border-bottom:1px solid #e2e8f0;
    padding: 12px;
}

.grade-table tr:last-child td{
    border-bottom: none;
}

.grade-table tr:hover{
    background: #f7fafc;
}

.remove-btn{
    background: transparent;
    border:none;
    font-size:20px;
    cursor:pointer;
    transition: transform 0.2s ease;
    padding: 5px;
}

.remove-btn:hover{
    transform: scale(1.2);
}

/* Responsive */
@media (max-width: 768px){
    .container{
        padding: 25px 20px;
    }
    
    h1{
        font-size: 1.8rem;
    }
    
    .header{
        grid-template-columns: 1fr;
    }
    
    .cgpa-display{
        grid-template-columns: 1fr;
        gap: 15px;
    }
    
    .cgpa-card .cgpa-value{
        font-size: 2.8rem;
    }
    
    table{
        font-size: 14px;
    }
    
    th, td{
        padding: 10px 5px;
    }
    
    .retake-row{
        grid-template-columns: 1fr;
        gap: 10px;
    }
}

</style>
</head>

<body>

<div class="container">

<h1>üéì UIU CGPA Calculator</h1>

<h2 class="section-title">Current Academic Standing</h2>

<!-- Header -->

<div class="header">

    <div class="input-box">
        <label>Current Total Credits</label>
        <input type="number" id="currentCredits" value="0" min="0" step="0.5">
    </div>

    <div class="input-box">
        <label>Current CGPA</label>
        <input type="number" id="currentCgpa" value="0" min="0" max="4" step="0.01">
    </div>

</div>


<div style="display: flex; align-items: center; gap: 15px; margin-top: 35px; margin-bottom: 20px;">
    <h2 class="section-title" style="margin: 0;">Add New Courses</h2>
</div>


<!-- Table -->

<table id="courseTable">

<thead>
<tr>
<th>Course</th>
<th>Grade</th>
<th>Credit</th>
<th>Remove</th>
</tr>
</thead>

<tbody>

<tr>

<td><input type="text" placeholder="Course Name"></td>

<td>
<select class="grade">
<option value="4.0">A (4.0)</option>
<option value="3.67">A- (3.67)</option>
<option value="3.33">B+ (3.33)</option>
<option value="3.0">B (3.0)</option>
<option value="2.67">B- (2.67)</option>
<option value="2.33">C+ (2.33)</option>
<option value="2.0">C (2.0)</option>
<option value="1.67">C- (1.67)</option>
<option value="1.33">D+ (1.33)</option>
<option value="1.0">D (1.0)</option>
<option value="0.0">F (0.0)</option>
</select>
</td>

<td><input type="number" class="credit" value="3" min="0.5" max="6" step="0.5"></td>

<td>
<button class="remove-btn" onclick="removeRow(this)">‚ùå</button>
</td>

</tr>

</tbody>

</table>

<!-- Add Course Button -->
<div style="margin-top: 20px;">
    <button class="btn btn-add" onclick="addRow()">‚ûï Add Course</button>
</div>


<!-- Retake Section -->

<div class="retake-section" id="retakeSection">

<h3>üîÑ Retake Courses</h3>

<div class="retake-container">
    
    <div id="retakeList">
        <div class="retake-row">
            
            <div class="retake-input-group">
                <label>Course Name</label>
                <input type="text" class="retake-course" placeholder="e.g., Database Systems">
            </div>
            
            <div class="retake-input-group">
                <label>New Grade</label>
                <select class="retake-new-grade">
                    <option value="4.0">A (4.0)</option>
                    <option value="3.67">A- (3.67)</option>
                    <option value="3.33">B+ (3.33)</option>
                    <option value="3.0">B (3.0)</option>
                    <option value="2.67">B- (2.67)</option>
                    <option value="2.33">C+ (2.33)</option>
                    <option value="2.0">C (2.0)</option>
                    <option value="1.67">C- (1.67)</option>
                    <option value="1.33">D+ (1.33)</option>
                    <option value="1.0">D (1.0)</option>
                    <option value="0.0">F (0.0)</option>
                </select>
            </div>
            
            <div class="retake-input-group">
                <label>Previous Grade</label>
                <select class="retake-prev-grade">
                    <option value="">--Select--</option>
                    <option value="4.0">A (4.0)</option>
                    <option value="3.67">A- (3.67)</option>
                    <option value="3.33">B+ (3.33)</option>
                    <option value="3.0">B (3.0)</option>
                    <option value="2.67">B- (2.67)</option>
                    <option value="2.33">C+ (2.33)</option>
                    <option value="2.0">C (2.0)</option>
                    <option value="1.67">C- (1.67)</option>
                    <option value="1.33">D+ (1.33)</option>
                    <option value="1.0">D (1.0)</option>
                    <option value="0.0">F (0.0)</option>
                </select>
            </div>
            
            <div class="retake-input-group">
                <label>Credit</label>
                <input type="number" class="retake-credit" value="3" min="0.5" max="6" step="0.5">
            </div>
            
            <div class="retake-input-group">
                <label>&nbsp;</label>
                <button class="remove-btn" onclick="removeRetakeRow(this)">‚ùå</button>
            </div>
            
        </div>
    </div>
    
    <button class="btn btn-add" style="margin-top: 15px;" onclick="addRetakeRow()">‚ûï Add Retake Course</button>

</div>

</div>


<!-- Buttons -->

<div class="btn-group">

<button class="btn btn-retake" onclick="toggleRetakeSection()">üîÑ Retake Courses</button>

<button class="btn btn-calc" onclick="calculate()">üßÆ Calculate</button>

<button class="btn btn-reset" onclick="resetAll()">‚ôªÔ∏è Reset</button>

<button class="btn btn-grade" onclick="toggleGrades()">üìä Grading System</button>

</div>


<!-- Result -->

<div class="result" id="result">

<h3>Your Academic Performance</h3>

<div class="cgpa-display">
    
    <div class="cgpa-card">
        <h4>This Semester</h4>
        <div class="cgpa-value" id="semesterCgpa">0.00</div>
        <div class="cgpa-label">Current Semester GPA</div>
    </div>
    
    <div class="cgpa-card">
        <h4>Overall</h4>
        <div class="cgpa-value" id="overallCgpa">0.00</div>
        <div class="cgpa-label">Cumulative CGPA</div>
    </div>

</div>

</div>


<!-- Grade System -->

<div class="grade-box" id="gradeBox">

<h3>üìö University Grading System</h3>

<table class="grade-table">

<tr><th>Marks Range</th><th>Letter Grade</th><th>Grade Point</th></tr>
<tr><td>90‚Äì100</td><td>A</td><td>4.0</td></tr>
<tr><td>86‚Äì89</td><td>A-</td><td>3.67</td></tr>
<tr><td>82‚Äì85</td><td>B+</td><td>3.33</td></tr>
<tr><td>78‚Äì81</td><td>B</td><td>3.0</td></tr>
<tr><td>74‚Äì77</td><td>B-</td><td>2.67</td></tr>
<tr><td>70‚Äì73</td><td>C+</td><td>2.33</td></tr>
<tr><td>66‚Äì69</td><td>C</td><td>2.0</td></tr>
<tr><td>62‚Äì65</td><td>C-</td><td>1.67</td></tr>
<tr><td>58‚Äì61</td><td>D+</td><td>1.33</td></tr>
<tr><td>55‚Äì57</td><td>D</td><td>1.0</td></tr>
<tr><td>0‚Äì54</td><td>F</td><td>0.0</td></tr>

</table>

</div>

</div>


<script>

/* Add Row */
function addRow(){

    const tbody = document.querySelector("#courseTable tbody");
    const row = tbody.rows[0].cloneNode(true);

    row.querySelectorAll("input,select").forEach(el=>{
        if(el.type=="text") el.value="";
        if(el.type=="number") el.value=3;
        if(el.classList.contains("grade")) el.selectedIndex=0;
    });

    tbody.appendChild(row);
}


/* Remove Row */
function removeRow(btn){

    const tbody = document.querySelector("#courseTable tbody");

    if(tbody.rows.length>1){
        btn.closest("tr").remove();
    }
    else{
        alert("‚ö†Ô∏è At least one course is required!");
    }
}


/* Toggle Retake Section */
function toggleRetakeSection(){

    const section = document.getElementById("retakeSection");

    if(section.style.display === "block"){
        section.style.display = "none";
    } else {
        section.style.display = "block";
        setTimeout(() => {
            section.scrollIntoView({behavior:"smooth", block: "nearest"});
        }, 100);
    }

}


/* Add Retake Row */
function addRetakeRow(){

    const container = document.getElementById("retakeList");
    const firstRow = container.querySelector(".retake-row");
    const newRow = firstRow.cloneNode(true);

    newRow.querySelectorAll("input,select").forEach(el=>{
        if(el.type=="text") el.value="";
        if(el.type=="number") el.value=3;
        if(el.classList.contains("retake-prev-grade")) el.value="";
        if(el.classList.contains("retake-new-grade")) el.selectedIndex=0;
    });

    container.appendChild(newRow);
}


/* Remove Retake Row */
function removeRetakeRow(btn){

    const container = document.getElementById("retakeList");

    if(container.querySelectorAll(".retake-row").length > 1){
        btn.closest(".retake-row").remove();
    } else {
        alert("‚ö†Ô∏è At least one retake row is required!");
    }
}


/* Calculate CGPA */
function calculate(){

    let curCredit = Number(currentCredits.value)||0;
    let curCgpa   = Number(currentCgpa.value)||0;

    // Validate inputs
    if(curCgpa > 4.0){
        alert("‚ö†Ô∏è Current CGPA cannot exceed 4.0");
        return;
    }

    let totalPoints = curCredit * curCgpa;
    let totalCredits = curCredit;

    // For semester calculation
    let semesterPoints = 0;
    let semesterCredits = 0;

    // Process regular courses
    const rows = document.querySelectorAll("#courseTable tbody tr");

    rows.forEach(row=>{

        const grade = Number(row.querySelector(".grade").value);
        const credit = Number(row.querySelector(".credit").value);

        // Validate credit
        if(credit <= 0){
            return;
        }

        // Add current semester course
        semesterPoints += grade * credit;
        semesterCredits += credit;

        // Add to overall
        totalPoints += grade * credit;
        totalCredits += credit;

    });

    // Process retake courses
    const retakeRows = document.querySelectorAll("#retakeList .retake-row");

    retakeRows.forEach(row=>{

        const newGrade = Number(row.querySelector(".retake-new-grade").value);
        const prevGrade = row.querySelector(".retake-prev-grade").value;
        const credit = Number(row.querySelector(".retake-credit").value);

        // Only process if previous grade is selected
        if(prevGrade && credit > 0){
            
            // Subtract previous grade from overall
            totalPoints -= Number(prevGrade) * credit;
            totalCredits -= credit;

            // Add new grade to semester
            semesterPoints += newGrade * credit;
            semesterCredits += credit;

            // Add new grade to overall
            totalPoints += newGrade * credit;
            totalCredits += credit;
        }

    });

    // Calculate semester CGPA
    let semesterCgpa = (semesterCredits > 0) 
        ? (semesterPoints / semesterCredits).toFixed(2) 
        : "0.00";

    // Calculate overall CGPA
    let overallCgpa = (totalCredits > 0) 
        ? (totalPoints / totalCredits).toFixed(2) 
        : "0.00";

    // Display results
    document.getElementById("semesterCgpa").innerText = semesterCgpa;
    document.getElementById("overallCgpa").innerText = overallCgpa;

    document.getElementById("result").style.display="block";

    // Smooth scroll to result
    setTimeout(() => {
        document.getElementById("result").scrollIntoView({behavior:"smooth", block: "nearest"});
    }, 100);

}


/* Reset */
function resetAll(){

    if(!confirm("üîÑ Are you sure you want to reset everything?")) return;

    location.reload();
}


/* Toggle Grades */
function toggleGrades(){

    const box = document.getElementById("gradeBox");

    if(box.style.display === "block"){
        box.style.display = "none";
    } else {
        box.style.display = "block";
        setTimeout(() => {
            box.scrollIntoView({behavior:"smooth", block: "nearest"});
        }, 100);
    }

}

</script>

</body>
</html>
